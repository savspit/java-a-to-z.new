<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        function getTransmission() {
            $.ajax('./getTransmissions', {
                method: 'get',
                complete: function (data) {
                    var transmissions = JSON.parse(data.responseText);
                    var result = "";
                    for (var i = 0; i != transmissions.length; ++i) {
                        result += "<option>" + transmissions[i].name + "</option>";
                    }
                    var groupStructure = document.getElementById("transId");
                    groupStructure.innerHTML = result;
                }
            });
        };
        function getEngine() {
            $.ajax('./getEngines', {
                method: 'get',
                complete: function (data) {
                    var engines = JSON.parse(data.responseText);
                    var result = "";
                    for (var i = 0; i != engines.length; ++i) {
                        result += "<button type='button' class='btn btn-primary'>" + engines[i].name + "</button>";
                    }
                    var groupStructure = document.getElementById("engineId");
                    groupStructure.innerHTML = result;
                }
            });
        };
        function getGearbox() {
            $.ajax('./getGearboxes', {
                method: 'get',
                complete: function (data) {
                    var gearboxes = JSON.parse(data.responseText);
                    var result = "";
                    for (var i = 0; i != gearboxes.length; ++i) {
                        result += "<button type='button' class='btn btn-primary'>" + gearboxes[i].name + "</button>";
                    }
                    var groupStructure = document.getElementById("gearboxId");
                    groupStructure.innerHTML = result;
                }
            });
        };
        $(document).ready(getTransmission());
        $(document).ready(getEngine());
        $(document).ready(getGearbox());
    </script>
</head>
<body>
<div class="container">
    <h2>New advert</h2>
    <br/>
    <br/>
    <div class="form-group" id="formgroupId">
        <label for="transId">Transmission:</label>
        <select class="form-control" id="transId">
        </select>
    </div>
    <label for="engineId">Engine</label></br>
    <div class="btn-group" id="engineId">
    </div>
    <br/>
    <br/>
    <label for="gearboxId">Gearbox</label></br>
    <div class="btn-group" id="gearboxId">
    </div>
    <br/>
    <br/>
    <form method="POST" enctype="multipart/form-data" action="/items/fileUpload">
        Image to upload: <input type="file" name="upfile">
        <br/>
        <input type="submit" value="Press"> to upload the file!
    </form>
</div>
</body>
</html>